<?xml version="1.0"?>
<root>
  <OBJECT NAME="Veiculos">
    <METHOD NAME="Listar" DESCRIPTION="" VERSION="37" INTFTYPE="5" THREADSAFE="0">
      <PARAMS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <PARAM NAME="Modelo" SIZE="100" FLAGS="1" PROJECTION="0" ORDER="2" FIELDLABEL="Modelo" CTAB="0"/>
        <PARAM NAME="Placa" SIZE="10" FLAGS="1" PROJECTION="0" ORDER="1" FIELDLABEL="Placa" CTAB="0"/>
        <PARAM NAME="TipoProprietario" FORMAT="N" SIZE="8" FLAGS="1" DEFAULT="1" PROJECTION="0" ORDER="3" LOOKUP="list:'1','Cooperado';'2','Cliente';'3','Cooperativa';" FIELDLABEL="Tipo Proprietario" CTAB="0"/>
        <PARAM NAME="Cooperado" FORMAT="N" SIZE="8" FLAGS="1" VISIBILITYRULE="(TipoProprietario=1)" PROJECTION="0" ORDER="5" LOOKUP="OFFICEDRIVER.COOPERADOS.LISTAR" LOOKUPKEY="COOPERADO" LOOKUPDISPLAY="NOME" LOOKUPCODE="ID" FIELDLABEL="Cooperado" CTAB="0"/>
        <PARAM NAME="Cliente" FORMAT="N" SIZE="8" FLAGS="1" VISIBILITYRULE="(TipoProprietario=1)" PROJECTION="0" ORDER="4" LOOKUP="OFFICEDRIVER.CLIENTES.LISTAR" LOOKUPKEY="CLIENTE" LOOKUPDISPLAY="NOME" LOOKUPCODE="ID" FIELDLABEL="Cliente" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="Id" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Id" CTAB="0"/>
        <FIELD NAME="Modelo" SIZE="100" FLAGS="1" PROJECTION="0" ORDER="7" FIELDLABEL="Modelo" CTAB="0"/>
        <FIELD NAME="Fabrincante" SIZE="100" FLAGS="1" PROJECTION="0" ORDER="8" FIELDLABEL="Fabrincante" CTAB="0"/>
        <FIELD NAME="AnoFabricacao" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="9" FIELDLABEL="Ano Fabrica&#231;&#227;o" CTAB="0"/>
        <FIELD NAME="AnoModelo" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="10" FIELDLABEL="Ano Modelo" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT
      V.MODELO,
      F.DESCRICAO AS FABRICANTE,
      V.ANOMODELO,
      V.ANOFABRICACAO
 FROM VEICULOS AS V
 INNER JOIN  FABRICANTES AS F
 ON F.ID = V.FABRICANTE
 WHERE 1 = 1 [AND V.DMODELO LIKE :MODELO]
  [AND V.PLACA = :PLACA]
 #SELECT(TIPOPROPRIETARIO,
   1:{ [AND V.COOPERADO = :COOPERADO] },
   2:{[AND V.CLIENTE = :CLIENTE]},
 ELSE: {});
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>