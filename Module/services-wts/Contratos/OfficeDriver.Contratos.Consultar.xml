<?xml version="1.0"?>
<root>
  <OBJECT NAME="Contratos">
    <METHOD NAME="Consultar" DESCRIPTION="" VERSION="92" INTFTYPE="6" THREADSAFE="0">
      <PARAMS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <PARAM NAME="Id" FORMAT="+" SIZE="8" FLAGS="1024" PROJECTION="0" FIELDLABEL="Id" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
          <GROUP NAME="Vig&#234;ncia"/>
          <GROUP NAME="Fechamento"/>
          <GROUP NAME="Cooperados" STYLE="1"/>
          <GROUP NAME="Veiculos" STYLE="1"/>
          <GROUP NAME="Condi&#231;&#245;es Comerciais Cooperados" STYLE="1"/>
          <GROUP NAME="Condi&#231;&#245;es Comerciais Ve&#237;culos" STYLE="1"/>
        </GROUPS>
        <FIELD NAME="Id" FORMAT="+" SIZE="8" FLAGS="1024" PROJECTION="0" FIELDLABEL="Id" CTAB="0"/>
        <FIELD NAME="Numero" SIZE="20" FLAGS="17" PROJECTION="0" ORDER="1" FIELDLABEL="N&#186; Contrato" CTAB="0"/>
        <FIELD NAME="Descricao" SIZE="100" FLAGS="1" PROJECTION="0" ORDER="2" FIELDLABEL="Descri&#231;&#227;o" CTAB="0"/>
        <FIELD NAME="Cliente" FORMAT="N" SIZE="8" FLAGS="17" PROJECTION="0" ORDER="3" LOOKUP="CLIENTES.LISTAR" LOOKUPKEY="Id" LOOKUPDISPLAY="Nome" FIELDLABEL="Cliente" CTAB="0"/>
        <FIELD NAME="DataInicio" FORMAT="D" SIZE="10" FLAGS="17" PROJECTION="0" ORDER="6" FIELDLABEL="Data Inicio" GROUPNAME="Vig&#234;ncia" CTAB="0"/>
        <FIELD NAME="DataTermino" FORMAT="D" SIZE="10" FLAGS="17" PROJECTION="0" ORDER="7" FIELDLABEL="Data T&#233;rmino" GROUPNAME="Vig&#234;ncia" CTAB="0"/>
        <FIELD NAME="DiaFechamento" FORMAT="N" SIZE="8" FLAGS="17" PROJECTION="0" ORDER="9" LOOKUP="list:'1','1';'2','2';'3','3';'4','4';'5','5';'6','6';'7','7';'8','8';'9','9';'10','10';'11','11';'12','12';'13','13';'14','14';'15','15';'16','16';'17','17';'18','18';'19','19';'20','20';'21','21';'22','22';'23','23';'24','24';'25','25';'26','26';'27','27';'28','28';'29','29';'30','30';'31','31';" FIELDLABEL="Dia de Fechamento" GROUPNAME="Fechamento" CTAB="0"/>
        <FIELD NAME="DescontarIntervalo" FORMAT="B" SIZE="1" FLAGS="17" PROJECTION="0" ORDER="10" FIELDLABEL="Descontar Intervalo" GROUPNAME="Fechamento" CTAB="0"/>
        <FIELD NAME="Cooperados" FORMAT="R" FLAGS="1" STYLE="3" PROJECTION="0" ORDER="12" FIELDLABEL="Cooperados" NESTEDNAME="OfficeDriver.Contratos.Cooperado" GROUPNAME="Cooperados" CTAB="0"/>
        <FIELD NAME="AdiantamentoProducao" FORMAT="M" SIZE="17" FLAGS="1" DECIMALS="4" PROJECTION="0" ORDER="4" FIELDLABEL="Adiantamento de Produ&#231;&#227;o" CTAB="0"/>
        <FIELD NAME="CondComCooperado" FORMAT="R" FLAGS="1" STYLE="2" PROJECTION="0" ORDER="16" FIELDLABEL="Cooperado" NESTEDNAME="OfficeDriver.Contratos.CondicaoComercialCooperado" GROUPNAME="Condi&#231;&#245;es Comerciais Cooperados" CTAB="0"/>
        <FIELD NAME="CondComVeiculo" FORMAT="R" FLAGS="1" PROJECTION="0" ORDER="18" FIELDLABEL="Ve&#237;culos" NESTEDNAME="OfficeDriver.Contratos.CondicaoComercialVeiculo" GROUPNAME="Condi&#231;&#245;es Comerciais Ve&#237;culos" CTAB="0"/>
        <FIELD NAME="Veiculos" FORMAT="R" FLAGS="1" STYLE="3" PROJECTION="0" ORDER="14" FIELDLABEL="Veiculos" NESTEDNAME="officedriver.Contratos.Veiculo" GROUPNAME="Veiculos" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT:MAIN
  ID,
  NUMERO,
  DESCRICAO,
  CLIENTE,
  DATAINICIO,
  DATATERMINO,
  DIAFECHAMENTO,
  DESCONTARINTERVALO,
  ADIANTAMENTOPRODUCAO,
  #ROWSET({SELECT:COOPERADOS COOPERADO, FUNCAO, INTERVALO FROM CONTRATOSCOOPERADOS WHERE CONTRATO = :MAIN.ID})
  #ROWSET({SELECT:VEICULOS VEICULO FROM CONTRATOSVEICULOS WHERE CONTRATO = :MAIN.ID})
  #ROWSET({SELECT:CONDCOMCOOPERADO
               ID,
               FUNCAO,
               TIPO,
               HORAS,
               VALOR,
               BASECALCULO,
               TIPOCONTRATO
               #ROWSET({SELECT:PERIODO ID, CONDICAO, DESCRICAO, INICIO, FIM, VALORNORMAL, VALOREXCEDENTE, TIPO FROM CONDICAOCOMPERIODO WHERE CONDICAO = :CONDCOMCOOPERADO.ID })
            FROM CONTRATOSCONDCOMERCIALCOOP
            WHERE CONTRATO = :MAIN.ID})
  #ROWSET({SELECT:CONDCOMVEICULO TIPOVEICULO, TOTALKM, VALORKM, VALORKMEXCEDENTE FROM CONTRATOSCONDCOMERCIALVEICULO WHERE CONTRATO = :MAIN.ID})
FROM
  CONTRATOS
WHERE
  ID=:ID
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>